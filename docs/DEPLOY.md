# Настройка приложения для стенда

Приложение работает в режиме SPA приложения, это значит что на любой дочерний path должна отдаваться статика, как это было бы с корня.

## Принцип сборки:
При билде проект собирает исходный код в статические файла, включая js, css, media (картинки).

Для деплоя на прод необходимо:

1. скопировать билд (статические файлы) на сервер.
1. настроить nginx или другой веб сервер на корень папки билда (в ней существует index.html)
1. запросы на статику строятся относительно папки, пример: /static/js/main.74bce07c.js (нужно настроить правильный резолв файлов относительно проекта)
1. запросы к апи идут от корня доменного имени (для изменения апи серверов можно использовать прокси сервера)

## Деплой на дев сервер:

После сборки исходный код доступен в папке build, его необходимо переместить на сервер. Точка входа является index.html в корне папки build.

## Проксирование:

Для работы сервера необходимо настроить прокси сервер для адреса, согласно настройки env `REACT_APP_BASE_URL`.


## Пример отдачи файлов для контентной части (SPA):

1. Обработка статики
    1. запрос ~/static/js/bundle.js
    1. ищем файл в проекте
    1. файл наден - отдаем его
1. Обработка страниц
    1. запрос ~/auth
    1. ищем файл в проекте
    1. файл не найден - отдаем index.html
1. Обработка дочерних проектов
    1. запрос ~/storybook
    1. проверяем на наличие дочерних приложений
    1. дочернее приложение найдено - передаем управление дочернему приложению

Учесть storybook как отдельное приложение
